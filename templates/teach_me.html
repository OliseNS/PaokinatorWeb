{% extends "layout.html" %}

{% block content %}
    <h2>Teach Me About {{ animal | title }}!</h2>
    <p>You know this {{ domain | lower }}, right? Answer these 5 quick questions to help me learn more about the <strong>{{ animal }}</strong>.</p>

    <form action="{{ url_for('submit_teaching') }}" method="POST" style="display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 500px; margin: 0 auto;">
        
        <input type="hidden" name="animal_name" value="{{ animal }}">
        <input type="hidden" name="domain_name" value="{{ domain }}">

        {% if features %}
            {% for feature in features %}
            <div style="display: flex; flex-direction: column; align-items: flex-start; gap: 10px; margin-bottom: 25px; width: 100%; padding: 20px; background: white; border: 2px solid #e5e5e5; border-radius: 12px;">
                
                <!-- Store feature data in hidden inputs -->
                <input type="hidden" name="feature_name_{{ loop.index0 }}" value="{{ feature.feature_name }}">
                <input type="hidden" name="question_{{ loop.index0 }}" value="{{ feature.question }}">

                <!-- Display the question -->
                <label for="answer_{{ loop.index0 }}" style="font-weight: 600; font-size: 1...">{{ feature.question }}</label>
                
                <!-- Answer select box -->
                <select name="answer_{{ loop.index0 }}" id="answer_{{ loop.index0 }}" style="width: 100%; font-family: 'Inter', sans-serif; font-size: 1rem; padding: 12px 40px 12px 16px; border-radius: 10px; border: 2px solid #DDD; background-color: #FFF; appearance: none; background-image: url(&quot;data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e&quot;); background-repeat: no-repeat; background-position: right 12px center; background-size: 20px; cursor: pointer;">
                    <option value="idk" selected>I Don't Know</option>
                    <option value="yes">Yes / Definitely</option>
                    <option value="probably">Usually</option>
                    <option value="sometimes">Sometimes / Maybe</option>
                    <option value="rarely">Rarely</option>
                    <option value="no">No / Not at all</option>
                </select>
            </div>
            {% endfor %}
            
            <button type="submit" class="btn btn-primary" style="margin-top: 10px; width: 100%;">Submit Answers</button>
        
        {% else %}
            <p>I couldn't find any questions to ask about the {{ animal }}.</p>
            <a href="{{ url_for('index') }}" class="btn">Back to Home</a>
        {% endif %}

    </form>
{% endblock %}